{"version":3,"file":"event-bus.js","sourceRoot":"","sources":["../../../src/lib/event-bus.ts"],"names":[],"mappings":"AAWA,MAAM,QAAQ,GAAG,GAAG,EAAE,CAAC,CAAC;IACtB,WAAW,EAAE,CAAC,QAAkB,EAAE,EAAE;QAClC,MAAM,CAAC,cAAc;YACnB,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,QAAQ,CAAC;YAC7C,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,CAAC,CAAc,EAAE,EAAE,CACtD,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAkB,CAAC,CAAC;IAC9C,CAAC;IACD,IAAI,EAAE,CAAC,KAAgB,EAAE,EAAE;QACzB,MAAM,CAAC,cAAc;YACnB,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC;YACnC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,WAAW,CAAC,UAAU,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC;CACF,CAAC,CAAC;AAEH,eAAe,QAAQ,CAAC","sourcesContent":["declare global {\n  interface Window {\n    globalEventBus?: any;\n  }\n}\n\ninterface EventType {\n  topic: string;\n  payload?: unknown;\n}\n\nconst eventBus = () => ({\n  addListener: (listener: Function) => {\n    window.globalEventBus\n      ? window.globalEventBus.addListener(listener)\n      : window.addEventListener(\"eventBus\", ((e: CustomEvent) =>\n          listener(e.detail)) as EventListener);\n  },\n  emit: (event: EventType) => {\n    window.globalEventBus\n      ? window.globalEventBus.emit(event)\n      : window.dispatchEvent(new CustomEvent(\"eventBus\", { detail: event }));\n  },\n});\n\nexport default eventBus;\n"]}